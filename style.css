:root {
  --sidebar-bg: #555;
  --sidebar-text-color: #fff;
  font-family: sans-serif; /* default page font */
}

#page {
  display: flex; /* flexbox container */
  position: fixed;
  top: 0;
  left: 0;
  height: 100%;
  width: 100%;
}

#sidebar {
  display: flex; /* flexbox container */
  flex: 1;
  height: 100%;
  max-width: 400px;
  background-color: var(--sidebar-bg);
  color: var(--sidebar-text-color);
  padding: 1em;
  box-sizing: border-box;
}

#rightside {
  display: flex; /* flexbox container */
  flex-direction: column; /* child items go top->bottom */
  flex: 3;
  height: 100%;
}

#searchbar {
  height: 4em;
  width: 100%;
  border-bottom: 3px solid var(--sidebar-bg);
  padding: 0.5em 1em;
  box-sizing: border-box;
}

#display {
  width: 100%;
  flex-grow: 1; /* fills all remaining space */
  padding: 1em;
  box-sizing: border-box;
}

@media all and (max-width: 1000px) { /* on thinner displays, put sidebar above main content (weird layout-wise, but better than an ultra-thin sidebar). */
  #page {
    flex-wrap: wrap;
  }
  
  #sidebar {
    flex: 1 1 100%; /* force 100% width */
    max-width: 100%; /* overwrite sidebar max-width */
    height: auto; /* overwrite sidebar height */
  }

  #rightside {
    flex: 3 1 100%; /* force 100% width */
  }
}